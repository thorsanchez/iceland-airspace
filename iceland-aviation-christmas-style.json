{
  "version": 8,
  "name": "Iceland VFR Aviation - Christmas Edition",
  "metadata": {
    "mapbox:autocomposite": true,
    "mapbox:type": "template",
    "mapbox:groups": {
      "aviation": {
        "name": "Aviation Layers",
        "collapsed": false
      },
      "christmas": {
        "name": "Christmas Theme",
        "collapsed": false
      }
    }
  },
  "center": [-20, 65],
  "zoom": 6,
  "bearing": 0,
  "pitch": 0,
  "sources": {
    "mapbox": {
      "type": "vector",
      "url": "mapbox://mapbox.mapbox-streets-v8"
    },
    "mapbox-terrain": {
      "type": "vector",
      "url": "mapbox://mapbox.mapbox-terrain-v2"
    },
    "iceland-airports": {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "name": "Keflav√≠k International Airport",
              "icao": "BIKF",
              "type": "international",
              "elevation": "171 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-22.6056, 63.9850]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Reykjav√≠k Airport",
              "icao": "BIRK",
              "type": "domestic",
              "elevation": "48 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-21.9406, 64.1300]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Akureyri Airport",
              "icao": "BIAR",
              "type": "regional",
              "elevation": "6 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-18.0728, 65.6600]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Egilssta√∞ir Airport",
              "icao": "BIEG",
              "type": "regional",
              "elevation": "76 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-14.4014, 65.2833]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "√çsafj√∂r√∞ur Airport",
              "icao": "BIIS",
              "type": "regional",
              "elevation": "8 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-23.1353, 66.0581]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Vestmannaeyjar Airport",
              "icao": "BIVM",
              "type": "regional",
              "elevation": "326 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-20.2789, 63.4242]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "H√∫sav√≠k Airport",
              "icao": "BIHU",
              "type": "small",
              "elevation": "48 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-17.4260, 65.9523]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "H√∂fn Airport",
              "icao": "BIHN",
              "type": "small",
              "elevation": "24 ft"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-15.2272, 64.2956]
            }
          }
        ]
      }
    },
    "iceland-airspaces": {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "name": "Reykjav√≠k TMA",
              "type": "TMA",
              "class": "C",
              "floor": "SFC",
              "ceiling": "FL195"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [[
                [-23.5, 63.5],
                [-20.5, 63.5],
                [-20.5, 64.8],
                [-23.5, 64.8],
                [-23.5, 63.5]
              ]]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Akureyri CTR",
              "type": "CTR",
              "class": "D",
              "floor": "SFC",
              "ceiling": "3500 ft"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [[
                [-18.5, 65.4],
                [-17.6, 65.4],
                [-17.6, 65.9],
                [-18.5, 65.9],
                [-18.5, 65.4]
              ]]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Iceland FIR",
              "type": "FIR",
              "class": "G",
              "floor": "FL195",
              "ceiling": "FL460"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [[
                [-30, 60],
                [-10, 60],
                [-10, 70],
                [-30, 70],
                [-30, 60]
              ]]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "name": "Keflav√≠k TMA",
              "type": "TMA",
              "class": "C",
              "floor": "SFC",
              "ceiling": "FL195"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [[
                [-23.5, 63.4],
                [-21.5, 63.4],
                [-21.5, 64.5],
                [-23.5, 64.5],
                [-23.5, 63.4]
              ]]
            }
          }
        ]
      }
    },
    "christmas-decorations": {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "type": "santa-path",
              "name": "Santa's Iceland Route"
            },
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [-24, 66],
                [-22, 65.5],
                [-20, 65],
                [-18, 65.5],
                [-16, 65],
                [-14, 64.5]
              ]
            }
          }
        ]
      }
    }
  },
  "sprite": "mapbox://sprites/mapbox/streets-v11",
  "glyphs": "mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "#e8f4f8"
      }
    },
    {
      "id": "landuse-snow",
      "type": "fill",
      "source": "mapbox",
      "source-layer": "landuse",
      "filter": ["==", "class", "snow"],
      "paint": {
        "fill-color": "#ffffff",
        "fill-opacity": 0.9
      }
    },
    {
      "id": "water",
      "type": "fill",
      "source": "mapbox",
      "source-layer": "water",
      "paint": {
        "fill-color": "#b8d9e8"
      }
    },
    {
      "id": "landcover-ice-shelf",
      "type": "fill",
      "source": "mapbox-terrain",
      "source-layer": "landcover",
      "filter": ["==", "class", "ice"],
      "paint": {
        "fill-color": "#f0f8ff",
        "fill-opacity": 0.8
      }
    },
    {
      "id": "land",
      "type": "fill",
      "source": "mapbox",
      "source-layer": "landuse",
      "paint": {
        "fill-color": "#f5f3e8"
      }
    },
    {
      "id": "national-park",
      "type": "fill",
      "source": "mapbox",
      "source-layer": "landuse",
      "filter": ["==", "class", "park"],
      "paint": {
        "fill-color": "#d4e7c5",
        "fill-opacity": 0.6
      }
    },
    {
      "id": "hillshade",
      "type": "hillshade",
      "source": "mapbox-terrain",
      "source-layer": "hillshade",
      "paint": {
        "hillshade-exaggeration": 0.3,
        "hillshade-shadow-color": "#8b7355"
      }
    },
    {
      "id": "airspace-fir",
      "type": "fill",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "FIR"],
      "paint": {
        "fill-color": "#ffd700",
        "fill-opacity": 0.05
      }
    },
    {
      "id": "airspace-fir-outline",
      "type": "line",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "FIR"],
      "paint": {
        "line-color": "#ffd700",
        "line-width": 2,
        "line-dasharray": [4, 4],
        "line-opacity": 0.6
      }
    },
    {
      "id": "airspace-tma",
      "type": "fill",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "TMA"],
      "paint": {
        "fill-color": "#ff6b6b",
        "fill-opacity": 0.15
      }
    },
    {
      "id": "airspace-tma-outline",
      "type": "line",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "TMA"],
      "paint": {
        "line-color": "#ff4444",
        "line-width": 2,
        "line-dasharray": [8, 4],
        "line-opacity": 0.8
      }
    },
    {
      "id": "airspace-ctr",
      "type": "fill",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "CTR"],
      "paint": {
        "fill-color": "#4a90e2",
        "fill-opacity": 0.2
      }
    },
    {
      "id": "airspace-ctr-outline",
      "type": "line",
      "source": "iceland-airspaces",
      "filter": ["==", "type", "CTR"],
      "paint": {
        "line-color": "#2e5c8a",
        "line-width": 2.5,
        "line-dasharray": [6, 3],
        "line-opacity": 0.9
      }
    },
    {
      "id": "santa-path",
      "type": "line",
      "source": "christmas-decorations",
      "filter": ["==", "type", "santa-path"],
      "paint": {
        "line-color": "#ff0000",
        "line-width": 3,
        "line-dasharray": [1, 2],
        "line-opacity": 0.7
      }
    },
    {
      "id": "santa-path-glow",
      "type": "line",
      "source": "christmas-decorations",
      "filter": ["==", "type", "santa-path"],
      "paint": {
        "line-color": "#ffff00",
        "line-width": 6,
        "line-blur": 4,
        "line-opacity": 0.3
      }
    },
    {
      "id": "road-primary",
      "type": "line",
      "source": "mapbox",
      "source-layer": "road",
      "filter": ["==", "class", "primary"],
      "paint": {
        "line-color": "#f4a460",
        "line-width": 2
      }
    },
    {
      "id": "road-secondary",
      "type": "line",
      "source": "mapbox",
      "source-layer": "road",
      "filter": ["==", "class", "secondary"],
      "paint": {
        "line-color": "#d2b48c",
        "line-width": 1.5
      }
    },
    {
      "id": "airport-runways",
      "type": "circle",
      "source": "iceland-airports",
      "paint": {
        "circle-radius": [
          "match",
          ["get", "type"],
          "international", 12,
          "domestic", 10,
          "regional", 8,
          "small", 6,
          6
        ],
        "circle-color": "#ffffff",
        "circle-stroke-width": 3,
        "circle-stroke-color": [
          "match",
          ["get", "type"],
          "international", "#ff0000",
          "domestic", "#00aa00",
          "regional", "#0066cc",
          "small", "#ff9900",
          "#666666"
        ]
      }
    },
    {
      "id": "airport-icons",
      "type": "symbol",
      "source": "iceland-airports",
      "layout": {
        "icon-image": "airport-15",
        "icon-size": [
          "match",
          ["get", "type"],
          "international", 1.5,
          "domestic", 1.3,
          "regional", 1.1,
          "small", 0.9,
          1
        ],
        "icon-allow-overlap": true,
        "text-field": ["get", "icao"],
        "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
        "text-size": 11,
        "text-offset": [0, 1.8],
        "text-anchor": "top"
      },
      "paint": {
        "text-color": "#2c3e50",
        "text-halo-color": "#ffffff",
        "text-halo-width": 2
      }
    },
    {
      "id": "airport-labels",
      "type": "symbol",
      "source": "iceland-airports",
      "minzoom": 8,
      "layout": {
        "text-field": ["get", "name"],
        "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Regular"],
        "text-size": 12,
        "text-offset": [0, 2.8],
        "text-anchor": "top"
      },
      "paint": {
        "text-color": "#34495e",
        "text-halo-color": "#ffffff",
        "text-halo-width": 1.5
      }
    },
    {
      "id": "airspace-labels",
      "type": "symbol",
      "source": "iceland-airspaces",
      "layout": {
        "text-field": [
          "format",
          ["get", "name"], {},
          "\n", {},
          ["get", "class"], {"font-scale": 0.8},
          " ", {},
          ["get", "floor"], {"font-scale": 0.7},
          "-", {},
          ["get", "ceiling"], {"font-scale": 0.7}
        ],
        "text-font": ["DIN Offc Pro Italic", "Arial Unicode MS Regular"],
        "text-size": 11,
        "symbol-placement": "point"
      },
      "paint": {
        "text-color": [
          "match",
          ["get", "type"],
          "FIR", "#b8860b",
          "TMA", "#8b0000",
          "CTR", "#00008b",
          "#333333"
        ],
        "text-halo-color": "#ffffff",
        "text-halo-width": 2,
        "text-opacity": 0.9
      }
    },
    {
      "id": "christmas-snowflakes",
      "type": "symbol",
      "source": "iceland-airports",
      "layout": {
        "icon-image": "star-15",
        "icon-size": 0.8,
        "icon-rotate": ["*", ["get", "elevation"], 0.5],
        "icon-offset": [20, -20],
        "icon-allow-overlap": true
      },
      "paint": {
        "icon-color": "#b0e0e6",
        "icon-opacity": 0.7
      }
    },
    {
      "id": "place-labels",
      "type": "symbol",
      "source": "mapbox",
      "source-layer": "place_label",
      "filter": ["==", "type", "city"],
      "layout": {
        "text-field": ["get", "name"],
        "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
        "text-size": 14
      },
      "paint": {
        "text-color": "#1a1a1a",
        "text-halo-color": "#ffffff",
        "text-halo-width": 2
      }
    },
    {
      "id": "christmas-message",
      "type": "symbol",
      "source": "iceland-airports",
      "filter": ["==", "icao", "BIRK"],
      "layout": {
        "text-field": "üéÑ Gle√∞ileg J√≥l! üéÖ",
        "text-font": ["DIN Offc Pro Bold", "Arial Unicode MS Bold"],
        "text-size": 16,
        "text-offset": [0, -3],
        "text-anchor": "bottom"
      },
      "paint": {
        "text-color": "#c41e3a",
        "text-halo-color": "#ffffff",
        "text-halo-width": 3,
        "text-opacity": 0.9
      }
    }
  ]
}
